# 리액트 훅

컴포넌트에 기능을 추가할 때 사용하는 함수

(컴포넌트에 상태값을 추가하거나 자식요소에 접근하는 등의 기능)

훅이 나오기 전에는 클래스형 컴포넌트를 사용했었다.

예시)

- useState: 상태값 추가
- useEffect: 부수효과 처리 (서버 API 호출, 이벤트 핸들러 등록 등등)



상대값 변경 함수는 비동기이면서 배치(batch)로 처리한다.

만약 동기로 처리하면 하나의 상태값 변경 함수를 처리할 때마다 렌더링을 새로한당.,.,.

```react
import React, { useState, useEffect } from 'react'

export default function App () {
  const [count, setCount] = useState(0)
  const onClick () {
    setCount(v => v+1) // 두 개를 실행하기위해 함수로 입력
    setCount(v => v+1) // 처리되기 직전의 상태값을 매개변수로 받기 때문에 가능 
  }
  console.log('render called')
  
  useEffect(() => {
    window.addEventListener('click', onClick) // 화면 아무데나 누르면 onClick이벤트 발생
    return () => window.removeEventListener('click', onClick)
    // 리액트 요소 외부에서 이벤트를 처리하기 때문에 배치로 처리되지 않아 렌더링이 두 번 일어남
  })
  
  return (
  	<div>
    	<h2>{count}</h2>
      <button onClick={onClick}>증가</button>
    </div>
  )
}
```



만약 외부에서도 배치로 처리하고싶다면

`ReactDOM.unstable_batchedUpdates`를 이용할 수 있다.

=> 미래에는 외부처리도 배치로 처리한다고 한다고 한다고 한다~~





여러개의 상태값을 하나의 객체로 관리할 수도 있다.

스프레드 문법을 이용하여 사용

혹은 useReducer를 이용할 수도 있다.



특별한 이유가 없다면 모든 부수효과는 useEffect를 사용하는 것이 좋다.

렌더링후에 useEffect의 부수효과가 실행된다 => (vue의 mounted같은 느낌적인 느낌느낌)



